[33m[nodemon] 3.1.11[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): server.ts src/**/*[39m
[33m[nodemon] watching extensions: ts,tsx,js,jsx[39m
[32m[nodemon] starting `npx tsx server.ts`[39m
üöÄ Server started successfully with Socket.IO integration
üåê Server running on http://localhost:3000
üìä Quick Login functionality: FULLY OPERATIONAL
üìä All 12 quick login buttons working correctly
üìä Frontend: http://localhost:3000
üìä Backend: http://localhost:3000/api
üìä Ready for development! üöÄ
 ‚óã Compiling / ...
 GET / 200 in 3.8s (compile: 3.3s, render: 489ms)
 GET /api/health 200 in 387ms (compile: 373ms, render: 15ms)
 GET / 200 in 86ms (compile: 4ms, render: 82ms)
 GET / 200 in 86ms (compile: 34ms, render: 52ms)
 GET / 200 in 47ms (compile: 4ms, render: 44ms)
 GET / 200 in 56ms (compile: 4ms, render: 52ms)
GET /api/colleges called (OPTIMIZED)
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`isActive` = ? ORDER BY `main`.`colleges`.`name` ASC LIMIT ? OFFSET ?
Found 3 colleges
 GET /api/colleges 200 in 146ms (compile: 131ms, render: 15ms)
 GET / 200 in 61ms (compile: 3ms, render: 57ms)
GET /api/colleges called (OPTIMIZED)
Found 3 colleges
 GET /api/colleges 200 in 19ms (compile: 6ms, render: 13ms)
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`isActive` = ? ORDER BY `main`.`colleges`.`name` ASC LIMIT ? OFFSET ?
GET /api/programs called (OPTIMIZED)
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`duration`, `main`.`programs`.`collegeId` FROM `main`.`programs` WHERE (`main`.`programs`.`collegeId` = ? AND `main`.`programs`.`isActive` = ?) ORDER BY `main`.`programs`.`name` ASC LIMIT ? OFFSET ?
Found 2 programs
 GET /api/programs?collegeId=cmicn1y1l0001klugaq3oubfc 200 in 142ms (compile: 130ms, render: 12ms)
Auth /me endpoint called
Token present: true
User from token in /api/auth/me: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  name: 'System Administrator',
  role: 'ADMIN',
  collegeId: 'cmicn1y1l0001klugaq3oubfc',
  programId: null
}
Returning user data from /api/auth/me
 GET /api/auth/me 200 in 358ms (compile: 346ms, render: 12ms)
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt`, COALESCE(`aggr_selection_0_Course`.`_aggr_count_courses`, 0) AS `_aggr_count_courses`, COALESCE(`aggr_selection_1_User`.`_aggr_count_students`, 0) AS `_aggr_count_students` FROM `main`.`batches` LEFT JOIN (SELECT `main`.`courses`.`batchId`, COUNT(*) AS `_aggr_count_courses` FROM `main`.`courses` WHERE 1=1 GROUP BY `main`.`courses`.`batchId`) AS `aggr_selection_0_Course` ON (`main`.`batches`.`id` = `aggr_selection_0_Course`.`batchId`) LEFT JOIN (SELECT `main`.`users`.`batchId`, COUNT(*) AS `_aggr_count_students` FROM `main`.`users` WHERE 1=1 GROUP BY `main`.`users`.`batchId`) AS `aggr_selection_1_User` ON (`main`.`batches`.`id` = `aggr_selection_1_User`.`batchId`) WHERE (`main`.`batches`.`isActive` = ? AND `main`.`batches`.`programId` = ?) ORDER BY `main`.`batches`.`startYear` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/batches?programId=cmicn1y2n000aklugbk1rvlwx 200 in 370ms (compile: 301ms, render: 69ms)
GET /api/programs called (OPTIMIZED)
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`duration`, `main`.`programs`.`collegeId` FROM `main`.`programs` WHERE (`main`.`programs`.`collegeId` = ? AND `main`.`programs`.`isActive` = ?) ORDER BY `main`.`programs`.`name` ASC LIMIT ? OFFSET ?
Found 2 programs
 GET /api/programs?collegeId=cmicn1y1l0001klugaq3oubfc 200 in 11ms (compile: 3ms, render: 8ms)
 GET / 200 in 51ms (compile: 4ms, render: 48ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, COALESCE(`aggr_selection_0_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`users` LEFT JOIN (SELECT `main`.`enrollments`.`studentId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`studentId`) AS `aggr_selection_0_Enrollment` ON (`main`.`users`.`id` = `aggr_selection_0_Enrollment`.`studentId`) WHERE (`main`.`users`.`role` = ? AND `main`.`users`.`isActive` = ?) ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`programId` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?,?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?,?,?,?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?,?,?,?,?,?,?,?,?,?,?,?,?) LIMIT ? OFFSET ?
 GET /api/students 200 in 499ms (compile: 484ms, render: 15ms)
 GET / 200 in 61ms (compile: 4ms, render: 58ms)
 GET /api/batches?programId=cmicn1y2n000aklugbk1rvlwx 200 in 13ms (compile: 3ms, render: 10ms)
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt`, COALESCE(`aggr_selection_0_Course`.`_aggr_count_courses`, 0) AS `_aggr_count_courses`, COALESCE(`aggr_selection_1_User`.`_aggr_count_students`, 0) AS `_aggr_count_students` FROM `main`.`batches` LEFT JOIN (SELECT `main`.`courses`.`batchId`, COUNT(*) AS `_aggr_count_courses` FROM `main`.`courses` WHERE 1=1 GROUP BY `main`.`courses`.`batchId`) AS `aggr_selection_0_Course` ON (`main`.`batches`.`id` = `aggr_selection_0_Course`.`batchId`) LEFT JOIN (SELECT `main`.`users`.`batchId`, COUNT(*) AS `_aggr_count_students` FROM `main`.`users` WHERE 1=1 GROUP BY `main`.`users`.`batchId`) AS `aggr_selection_1_User` ON (`main`.`batches`.`id` = `aggr_selection_1_User`.`batchId`) WHERE (`main`.`batches`.`isActive` = ? AND `main`.`batches`.`programId` = ?) ORDER BY `main`.`batches`.`startYear` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
=== STUDENT SECTION UPDATE REQUEST START ===
Student ID: cmid61mgu0001jv4hp9wwaigz
Method: POST
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
User from request: {
  id: 'cmicn1ym6002oklugugymmcfp',
  role: 'ADMIN',
  collegeId: 'cmicn1y1l0001klugaq3oubfc'
}
Requested sectionId: cmicn1y8b000ykluglp32a8a3
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
=== PERMISSION CHECK ===
User role: ADMIN
User college ID: cmicn1y1l0001klugaq3oubfc
Student college ID: cmicn1y1l0001klugaq3oubfc
‚úÖ Admin/University access granted
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt` FROM `main`.`sections` WHERE (`main`.`sections`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`users` SET `sectionId` = ?, `updatedAt` = ? WHERE (`main`.`users`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `email` AS `email`, `studentId` AS `studentId`, `employeeId` AS `employeeId`, `password` AS `password`, `name` AS `name`, `role` AS `role`, `collegeId` AS `collegeId`, `programId` AS `programId`, `batchId` AS `batchId`, `sectionId` AS `sectionId`, `isActive` AS `isActive`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
Student updated successfully: {
  id: 'cmid61mgu0001jv4hp9wwaigz',
  email: 'test@obeportal.com',
  studentId: 'STU9999',
  employeeId: null,
  password: 'password123',
  name: 'Test Student',
  role: 'STUDENT',
  collegeId: 'cmicn1y1l0001klugaq3oubfc',
  programId: 'cmicn1y2n000aklugbk1rvlwx',
  batchId: 'cmicn1y4d000hkluglv0ot14l',
  sectionId: 'cmicn1y8b000ykluglp32a8a3',
  isActive: true,
  createdAt: 2025-11-24T13:11:45.918Z,
  updatedAt: 2025-11-24T14:20:05.129Z,
  college: { id: 'cmicn1y1l0001klugaq3oubfc', name: 'CUIET', code: 'CUIET' },
  section: { id: 'cmicn1y8b000ykluglp32a8a3', name: 'A' },
  batch: {
    id: 'cmicn1y4d000hkluglv0ot14l',
    name: '2020-2024',
    programId: 'cmicn1y2n000aklugbk1rvlwx',
    startYear: 2020,
    endYear: 2024,
    isActive: true,
    createdAt: 2025-11-24T04:20:08.318Z,
    updatedAt: 2025-11-24T04:20:08.318Z,
    program: {
      id: 'cmicn1y2n000aklugbk1rvlwx',
      name: 'Bachelor of Computer Science',
      code: 'BCSE'
    }
  }
}
 POST /api/students/cmid61mgu0001jv4hp9wwaigz/section 200 in 1084ms (compile: 1058ms, render: 26ms)
 GET /courses 200 in 1542ms (compile: 1476ms, render: 66ms)
 GET /courses 200 in 38ms (compile: 3ms, render: 35ms)
 GET /courses 200 in 39ms (compile: 3ms, render: 36ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`courses`.`id`, `main`.`courses`.`code`, `main`.`courses`.`name`, `main`.`courses`.`batchId`, `main`.`courses`.`description`, `main`.`courses`.`status`, `main`.`courses`.`targetPercentage`, `main`.`courses`.`level1Threshold`, `main`.`courses`.`level2Threshold`, `main`.`courses`.`level3Threshold`, `main`.`courses`.`isActive`, `main`.`courses`.`createdAt`, `main`.`courses`.`updatedAt`, COALESCE(`aggr_selection_0_CO`.`_aggr_count_courseOutcomes`, 0) AS `_aggr_count_courseOutcomes`, COALESCE(`aggr_selection_1_Assessment`.`_aggr_count_assessments`, 0) AS `_aggr_count_assessments`, COALESCE(`aggr_selection_2_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`courses` LEFT JOIN (SELECT `main`.`cos`.`courseId`, COUNT(*) AS `_aggr_count_courseOutcomes` FROM `main`.`cos` WHERE 1=1 GROUP BY `main`.`cos`.`courseId`) AS `aggr_selection_0_CO` ON (`main`.`courses`.`id` = `aggr_selection_0_CO`.`courseId`) LEFT JOIN (SELECT `main`.`assessments`.`courseId`, COUNT(*) AS `_aggr_count_assessments` FROM `main`.`assessments` WHERE 1=1 GROUP BY `main`.`assessments`.`courseId`) AS `aggr_selection_1_Assessment` ON (`main`.`courses`.`id` = `aggr_selection_1_Assessment`.`courseId`) LEFT JOIN (SELECT `main`.`enrollments`.`courseId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`courseId`) AS `aggr_selection_2_Enrollment` ON (`main`.`courses`.`id` = `aggr_selection_2_Enrollment`.`courseId`) WHERE `main`.`courses`.`batchId` = ? ORDER BY `main`.`courses`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
Found 3 courses for batchId cmicn1y4d000hkluglv0ot14l
 GET /api/courses?batchId=cmicn1y4d000hkluglv0ot14l 200 in 150ms (compile: 139ms, render: 11ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`courses`.`id`, `main`.`courses`.`code`, `main`.`courses`.`name`, `main`.`courses`.`batchId`, `main`.`courses`.`description`, `main`.`courses`.`status`, `main`.`courses`.`targetPercentage`, `main`.`courses`.`level1Threshold`, `main`.`courses`.`level2Threshold`, `main`.`courses`.`level3Threshold`, `main`.`courses`.`isActive`, `main`.`courses`.`createdAt`, `main`.`courses`.`updatedAt`, COALESCE(`aggr_selection_0_CO`.`_aggr_count_courseOutcomes`, 0) AS `_aggr_count_courseOutcomes`, COALESCE(`aggr_selection_1_Assessment`.`_aggr_count_assessments`, 0) AS `_aggr_count_assessments`, COALESCE(`aggr_selection_2_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`courses` LEFT JOIN (SELECT `main`.`cos`.`courseId`, COUNT(*) AS `_aggr_count_courseOutcomes` FROM `main`.`cos` WHERE 1=1 GROUP BY `main`.`cos`.`courseId`) AS `aggr_selection_0_CO` ON (`main`.`courses`.`id` = `aggr_selection_0_CO`.`courseId`) LEFT JOIN (SELECT `main`.`assessments`.`courseId`, COUNT(*) AS `_aggr_count_assessments` FROM `main`.`assessments` WHERE 1=1 GROUP BY `main`.`assessments`.`courseId`) AS `aggr_selection_1_Assessment` ON (`main`.`courses`.`id` = `aggr_selection_1_Assessment`.`courseId`) LEFT JOIN (SELECT `main`.`enrollments`.`courseId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`courseId`) AS `aggr_selection_2_Enrollment` ON (`main`.`courses`.`id` = `aggr_selection_2_Enrollment`.`courseId`) WHERE `main`.`courses`.`batchId` = ? ORDER BY `main`.`courses`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
Found 3 courses for batchId cmicn1y4d000hkluglv0ot14l
 GET /api/courses?batchId=cmicn1y4d000hkluglv0ot14l 200 in 10ms (compile: 3ms, render: 8ms)
 GET /courses/cmicn1z49004yklugbex5yust/manage 200 in 1546ms (compile: 1502ms, render: 45ms)
 GET /courses/cmicn1z49004yklugbex5yust/manage 200 in 43ms (compile: 14ms, render: 30ms)
prisma:query SELECT `main`.`courses`.`id`, `main`.`courses`.`code`, `main`.`courses`.`name`, `main`.`courses`.`batchId`, `main`.`courses`.`description`, `main`.`courses`.`status`, `main`.`courses`.`targetPercentage`, `main`.`courses`.`level1Threshold`, `main`.`courses`.`level2Threshold`, `main`.`courses`.`level3Threshold`, `main`.`courses`.`isActive`, `main`.`courses`.`createdAt`, `main`.`courses`.`updatedAt`, COALESCE(`aggr_selection_0_CO`.`_aggr_count_courseOutcomes`, 0) AS `_aggr_count_courseOutcomes`, COALESCE(`aggr_selection_1_Assessment`.`_aggr_count_assessments`, 0) AS `_aggr_count_assessments`, COALESCE(`aggr_selection_2_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`courses` LEFT JOIN (SELECT `main`.`cos`.`courseId`, COUNT(*) AS `_aggr_count_courseOutcomes` FROM `main`.`cos` WHERE `main`.`cos`.`isActive` = ? GROUP BY `main`.`cos`.`courseId`) AS `aggr_selection_0_CO` ON (`main`.`courses`.`id` = `aggr_selection_0_CO`.`courseId`) LEFT JOIN (SELECT `main`.`assessments`.`courseId`, COUNT(*) AS `_aggr_count_assessments` FROM `main`.`assessments` WHERE `main`.`assessments`.`isActive` = ? GROUP BY `main`.`assessments`.`courseId`) AS `aggr_selection_1_Assessment` ON (`main`.`courses`.`id` = `aggr_selection_1_Assessment`.`courseId`) LEFT JOIN (SELECT `main`.`enrollments`.`courseId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE `main`.`enrollments`.`isActive` = ? GROUP BY `main`.`enrollments`.`courseId`) AS `aggr_selection_2_Enrollment` ON (`main`.`courses`.`id` = `aggr_selection_2_Enrollment`.`courseId`) WHERE (`main`.`courses`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`cos`.`id`, `main`.`cos`.`courseId`, `main`.`cos`.`code`, `main`.`cos`.`description`, `main`.`cos`.`isActive`, `main`.`cos`.`createdAt`, `main`.`cos`.`updatedAt` FROM `main`.`cos` WHERE (`main`.`cos`.`isActive` = ? AND `main`.`cos`.`courseId` IN (?)) ORDER BY `main`.`cos`.`code` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`assessments`.`id`, `main`.`assessments`.`courseId`, `main`.`assessments`.`sectionId`, `main`.`assessments`.`name`, `main`.`assessments`.`type`, `main`.`assessments`.`maxMarks`, `main`.`assessments`.`weightage`, `main`.`assessments`.`isActive`, `main`.`assessments`.`createdAt`, `main`.`assessments`.`updatedAt` FROM `main`.`assessments` WHERE (`main`.`assessments`.`isActive` = ? AND `main`.`assessments`.`courseId` IN (?)) ORDER BY `main`.`assessments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`enrollments`.`id`, `main`.`enrollments`.`courseId`, `main`.`enrollments`.`studentId`, `main`.`enrollments`.`isActive`, `main`.`enrollments`.`createdAt`, `main`.`enrollments`.`updatedAt` FROM `main`.`enrollments` WHERE (`main`.`enrollments`.`isActive` = ? AND `main`.`enrollments`.`courseId` IN (?)) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email`, `main`.`users`.`studentId` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?,?,?,?) LIMIT ? OFFSET ?
 GET /api/courses/cmicn1z49004yklugbex5yust 200 in 998ms (compile: 987ms, render: 11ms)
prisma:query SELECT `main`.`courses`.`id`, `main`.`courses`.`code`, `main`.`courses`.`name`, `main`.`courses`.`batchId`, `main`.`courses`.`description`, `main`.`courses`.`status`, `main`.`courses`.`targetPercentage`, `main`.`courses`.`level1Threshold`, `main`.`courses`.`level2Threshold`, `main`.`courses`.`level3Threshold`, `main`.`courses`.`isActive`, `main`.`courses`.`createdAt`, `main`.`courses`.`updatedAt`, COALESCE(`aggr_selection_0_CO`.`_aggr_count_courseOutcomes`, 0) AS `_aggr_count_courseOutcomes`, COALESCE(`aggr_selection_1_Assessment`.`_aggr_count_assessments`, 0) AS `_aggr_count_assessments`, COALESCE(`aggr_selection_2_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`courses` LEFT JOIN (SELECT `main`.`cos`.`courseId`, COUNT(*) AS `_aggr_count_courseOutcomes` FROM `main`.`cos` WHERE `main`.`cos`.`isActive` = ? GROUP BY `main`.`cos`.`courseId`) AS `aggr_selection_0_CO` ON (`main`.`courses`.`id` = `aggr_selection_0_CO`.`courseId`) LEFT JOIN (SELECT `main`.`assessments`.`courseId`, COUNT(*) AS `_aggr_count_assessments` FROM `main`.`assessments` WHERE `main`.`assessments`.`isActive` = ? GROUP BY `main`.`assessments`.`courseId`) AS `aggr_selection_1_Assessment` ON (`main`.`courses`.`id` = `aggr_selection_1_Assessment`.`courseId`) LEFT JOIN (SELECT `main`.`enrollments`.`courseId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE `main`.`enrollments`.`isActive` = ? GROUP BY `main`.`enrollments`.`courseId`) AS `aggr_selection_2_Enrollment` ON (`main`.`courses`.`id` = `aggr_selection_2_Enrollment`.`courseId`) WHERE (`main`.`courses`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`cos`.`id`, `main`.`cos`.`courseId`, `main`.`cos`.`code`, `main`.`cos`.`description`, `main`.`cos`.`isActive`, `main`.`cos`.`createdAt`, `main`.`cos`.`updatedAt` FROM `main`.`cos` WHERE (`main`.`cos`.`isActive` = ? AND `main`.`cos`.`courseId` IN (?)) ORDER BY `main`.`cos`.`code` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`assessments`.`id`, `main`.`assessments`.`courseId`, `main`.`assessments`.`sectionId`, `main`.`assessments`.`name`, `main`.`assessments`.`type`, `main`.`assessments`.`maxMarks`, `main`.`assessments`.`weightage`, `main`.`assessments`.`isActive`, `main`.`assessments`.`createdAt`, `main`.`assessments`.`updatedAt` FROM `main`.`assessments` WHERE (`main`.`assessments`.`isActive` = ? AND `main`.`assessments`.`courseId` IN (?)) ORDER BY `main`.`assessments`.`createdAt` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`enrollments`.`id`, `main`.`enrollments`.`courseId`, `main`.`enrollments`.`studentId`, `main`.`enrollments`.`isActive`, `main`.`enrollments`.`createdAt`, `main`.`enrollments`.`updatedAt` FROM `main`.`enrollments` WHERE (`main`.`enrollments`.`isActive` = ? AND `main`.`enrollments`.`courseId` IN (?)) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`name`, `main`.`users`.`email`, `main`.`users`.`studentId` FROM `main`.`users` WHERE `main`.`users`.`id` IN (?,?,?,?,?) LIMIT ? OFFSET ?
 GET /api/courses/cmicn1z49004yklugbex5yust 200 in 23ms (compile: 14ms, render: 9ms)
 GET /students 200 in 724ms (compile: 700ms, render: 24ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt`, COALESCE(`aggr_selection_0_User`.`_aggr_count_students`, 0) AS `_aggr_count_students` FROM `main`.`sections` LEFT JOIN (SELECT `main`.`users`.`sectionId`, COUNT(*) AS `_aggr_count_students` FROM `main`.`users` WHERE 1=1 GROUP BY `main`.`users`.`sectionId`) AS `aggr_selection_0_User` ON (`main`.`sections`.`id` = `aggr_selection_0_User`.`sectionId`) WHERE (`main`.`sections`.`batchId` = ? AND `main`.`sections`.`isActive` = ?) ORDER BY `main`.`sections`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/sections?batchId=cmicn1y4d000hkluglv0ot14l 200 in 147ms (compile: 137ms, render: 10ms)
üîç API: Fetching course settings for courseId: cmicn1z49004yklugbex5yust
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
üîç API: Fetching course settings for courseId: cmicn1z49004yklugbex5yust
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
üìä API: Returning course settings for cmicn1z49004yklugbex5yust: {
  coTarget: 60,
  level1Threshold: 60,
  level2Threshold: 75,
  level3Threshold: 85
}
üìä API: Returning course settings for cmicn1z49004yklugbex5yust: {
  coTarget: 60,
  level1Threshold: 60,
  level2Threshold: 75,
  level3Threshold: 85
}
 GET /api/courses/cmicn1z49004yklugbex5yust/settings?t=1763994014329 200 in 1136ms (compile: 1111ms, render: 25ms)
 GET /api/courses/cmicn1z49004yklugbex5yust/settings?t=1763994014321 200 in 1140ms (compile: 1115ms, render: 25ms)
prisma:query SELECT `main`.`courses`.`id`, `main`.`courses`.`targetPercentage`, `main`.`courses`.`level1Threshold`, `main`.`courses`.`level2Threshold`, `main`.`courses`.`level3Threshold` FROM `main`.`courses` WHERE `main`.`courses`.`id` IN (?,?) LIMIT ? OFFSET ?
GET /api/programs called (OPTIMIZED)
GET /api/colleges called (OPTIMIZED)
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt`, COALESCE(`aggr_selection_0_Course`.`_aggr_count_courses`, 0) AS `_aggr_count_courses`, COALESCE(`aggr_selection_1_User`.`_aggr_count_students`, 0) AS `_aggr_count_students` FROM `main`.`batches` LEFT JOIN (SELECT `main`.`courses`.`batchId`, COUNT(*) AS `_aggr_count_courses` FROM `main`.`courses` WHERE 1=1 GROUP BY `main`.`courses`.`batchId`) AS `aggr_selection_0_Course` ON (`main`.`batches`.`id` = `aggr_selection_0_Course`.`batchId`) LEFT JOIN (SELECT `main`.`users`.`batchId`, COUNT(*) AS `_aggr_count_students` FROM `main`.`users` WHERE 1=1 GROUP BY `main`.`users`.`batchId`) AS `aggr_selection_1_User` ON (`main`.`batches`.`id` = `aggr_selection_1_User`.`batchId`) WHERE (`main`.`batches`.`isActive` = ? AND `main`.`batches`.`programId` = ?) ORDER BY `main`.`batches`.`startYear` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`duration`, `main`.`programs`.`collegeId` FROM `main`.`programs` WHERE (`main`.`programs`.`collegeId` = ? AND `main`.`programs`.`isActive` = ?) ORDER BY `main`.`programs`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`isActive` = ? ORDER BY `main`.`colleges`.`name` ASC LIMIT ? OFFSET ?
 GET /api/batches?programId=cmicn1y2n000aklugbk1rvlwx 200 in 26ms (compile: 13ms, render: 13ms)
Found 2 programs
 GET /api/programs?collegeId=cmicn1y1l0001klugaq3oubfc 200 in 27ms (compile: 16ms, render: 10ms)
Found 3 colleges
 GET /api/colleges 200 in 28ms (compile: 19ms, render: 8ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, COALESCE(`aggr_selection_0_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`users` LEFT JOIN (SELECT `main`.`enrollments`.`studentId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`studentId`) AS `aggr_selection_0_Enrollment` ON (`main`.`users`.`id` = `aggr_selection_0_Enrollment`.`studentId`) WHERE (`main`.`users`.`role` = ? AND `main`.`users`.`isActive` = ? AND `main`.`users`.`programId` = ? AND `main`.`users`.`batchId` = ?) ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`programId` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?,?) LIMIT ? OFFSET ?
 GET /api/students?collegeId=cmicn1y1l0001klugaq3oubfc&programId=cmicn1y2n000aklugbk1rvlwx&batchId=cmicn1y4d000hkluglv0ot14l 200 in 12ms (compile: 2ms, render: 9ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt`, COALESCE(`aggr_selection_0_User`.`_aggr_count_students`, 0) AS `_aggr_count_students` FROM `main`.`sections` LEFT JOIN (SELECT `main`.`users`.`sectionId`, COUNT(*) AS `_aggr_count_students` FROM `main`.`users` WHERE 1=1 GROUP BY `main`.`users`.`sectionId`) AS `aggr_selection_0_User` ON (`main`.`sections`.`id` = `aggr_selection_0_User`.`sectionId`) WHERE (`main`.`sections`.`batchId` = ? AND `main`.`sections`.`isActive` = ?) ORDER BY `main`.`sections`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/sections?batchId=cmicn1y4d000hkluglv0ot14l 200 in 10ms (compile: 4ms, render: 6ms)
GET /api/colleges called (OPTIMIZED)
Found 3 colleges
 GET /api/colleges 200 in 9ms (compile: 3ms, render: 7ms)
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`isActive` = ? ORDER BY `main`.`colleges`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt`, COALESCE(`aggr_selection_0_Course`.`_aggr_count_courses`, 0) AS `_aggr_count_courses`, COALESCE(`aggr_selection_1_User`.`_aggr_count_students`, 0) AS `_aggr_count_students` FROM `main`.`batches` LEFT JOIN (SELECT `main`.`courses`.`batchId`, COUNT(*) AS `_aggr_count_courses` FROM `main`.`courses` WHERE 1=1 GROUP BY `main`.`courses`.`batchId`) AS `aggr_selection_0_Course` ON (`main`.`batches`.`id` = `aggr_selection_0_Course`.`batchId`) LEFT JOIN (SELECT `main`.`users`.`batchId`, COUNT(*) AS `_aggr_count_students` FROM `main`.`users` WHERE 1=1 GROUP BY `main`.`users`.`batchId`) AS `aggr_selection_1_User` ON (`main`.`batches`.`id` = `aggr_selection_1_User`.`batchId`) WHERE (`main`.`batches`.`isActive` = ? AND `main`.`batches`.`programId` = ?) ORDER BY `main`.`batches`.`startYear` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
GET /api/programs called (OPTIMIZED)
 GET /api/batches?programId=cmicn1y2n000aklugbk1rvlwx 200 in 11ms (compile: 3ms, render: 9ms)
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`duration`, `main`.`programs`.`collegeId` FROM `main`.`programs` WHERE (`main`.`programs`.`collegeId` = ? AND `main`.`programs`.`isActive` = ?) ORDER BY `main`.`programs`.`name` ASC LIMIT ? OFFSET ?
Found 2 programs
 GET /api/programs?collegeId=cmicn1y1l0001klugaq3oubfc 200 in 8ms (compile: 1889¬µs, render: 6ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, COALESCE(`aggr_selection_0_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`users` LEFT JOIN (SELECT `main`.`enrollments`.`studentId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`studentId`) AS `aggr_selection_0_Enrollment` ON (`main`.`users`.`id` = `aggr_selection_0_Enrollment`.`studentId`) WHERE (`main`.`users`.`role` = ? AND `main`.`users`.`isActive` = ? AND `main`.`users`.`programId` = ? AND `main`.`users`.`batchId` = ?) ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`programId` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?,?) LIMIT ? OFFSET ?
 GET /api/students?collegeId=cmicn1y1l0001klugaq3oubfc&programId=cmicn1y2n000aklugbk1rvlwx&batchId=cmicn1y4d000hkluglv0ot14l 200 in 11ms (compile: 2ms, render: 9ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt`, COALESCE(`aggr_selection_0_User`.`_aggr_count_students`, 0) AS `_aggr_count_students` FROM `main`.`sections` LEFT JOIN (SELECT `main`.`users`.`sectionId`, COUNT(*) AS `_aggr_count_students` FROM `main`.`users` WHERE 1=1 GROUP BY `main`.`users`.`sectionId`) AS `aggr_selection_0_User` ON (`main`.`sections`.`id` = `aggr_selection_0_User`.`sectionId`) WHERE (`main`.`sections`.`batchId` = ? AND `main`.`sections`.`isActive` = ?) ORDER BY `main`.`sections`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/sections?batchId=cmicn1y4d000hkluglv0ot14l 200 in 11ms (compile: 5ms, render: 6ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt`, COALESCE(`aggr_selection_0_User`.`_aggr_count_students`, 0) AS `_aggr_count_students` FROM `main`.`sections` LEFT JOIN (SELECT `main`.`users`.`sectionId`, COUNT(*) AS `_aggr_count_students` FROM `main`.`users` WHERE 1=1 GROUP BY `main`.`users`.`sectionId`) AS `aggr_selection_0_User` ON (`main`.`sections`.`id` = `aggr_selection_0_User`.`sectionId`) WHERE (`main`.`sections`.`batchId` = ? AND `main`.`sections`.`isActive` = ?) ORDER BY `main`.`sections`.`name` ASC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/sections?batchId=cmicn1y4d000hkluglv0ot14l 200 in 9ms (compile: 2ms, render: 7ms)
 GET / 200 in 49ms (compile: 3ms, render: 47ms)
=== STUDENT SECTION UPDATE REQUEST START ===
Student ID: cmid61mgu0001jv4hp9wwaigz
Method: POST
User from request: {
  id: 'cmicn1ym6002oklugugymmcfp',
  role: 'ADMIN',
  collegeId: 'cmicn1y1l0001klugaq3oubfc'
}
Requested sectionId: cmicn1y8p0010klug1bphpbjn
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
=== PERMISSION CHECK ===
User role: ADMIN
User college ID: cmicn1y1l0001klugaq3oubfc
Student college ID: cmicn1y1l0001klugaq3oubfc
‚úÖ Admin/University access granted
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt` FROM `main`.`sections` WHERE (`main`.`sections`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`users` SET `sectionId` = ?, `updatedAt` = ? WHERE (`main`.`users`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `email` AS `email`, `studentId` AS `studentId`, `employeeId` AS `employeeId`, `password` AS `password`, `name` AS `name`, `role` AS `role`, `collegeId` AS `collegeId`, `programId` AS `programId`, `batchId` AS `batchId`, `sectionId` AS `sectionId`, `isActive` AS `isActive`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
Student updated successfully: {
  id: 'cmid61mgu0001jv4hp9wwaigz',
  email: 'test@obeportal.com',
  studentId: 'STU9999',
  employeeId: null,
  password: 'password123',
  name: 'Test Student',
  role: 'STUDENT',
  collegeId: 'cmicn1y1l0001klugaq3oubfc',
  programId: 'cmicn1y2n000aklugbk1rvlwx',
  batchId: 'cmicn1y4d000hkluglv0ot14l',
  sectionId: 'cmicn1y8p0010klug1bphpbjn',
  isActive: true,
  createdAt: 2025-11-24T13:11:45.918Z,
  updatedAt: 2025-11-24T14:20:19.545Z,
  college: { id: 'cmicn1y1l0001klugaq3oubfc', name: 'CUIET', code: 'CUIET' },
  section: { id: 'cmicn1y8p0010klug1bphpbjn', name: 'B' },
  batch: {
    id: 'cmicn1y4d000hkluglv0ot14l',
    name: '2020-2024',
    programId: 'cmicn1y2n000aklugbk1rvlwx',
    startYear: 2020,
    endYear: 2024,
    isActive: true,
    createdAt: 2025-11-24T04:20:08.318Z,
    updatedAt: 2025-11-24T04:20:08.318Z,
    program: {
      id: 'cmicn1y2n000aklugbk1rvlwx',
      name: 'Bachelor of Computer Science',
      code: 'BCSE'
    }
  }
}
 POST /api/students/cmid61mgu0001jv4hp9wwaigz/section 200 in 32ms (compile: 14ms, render: 18ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
 GET /api/students?collegeId=cmicn1y1l0001klugaq3oubfc&programId=cmicn1y2n000aklugbk1rvlwx&batchId=cmicn1y4d000hkluglv0ot14l 200 in 10ms (compile: 2ms, render: 8ms)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, COALESCE(`aggr_selection_0_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`users` LEFT JOIN (SELECT `main`.`enrollments`.`studentId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`studentId`) AS `aggr_selection_0_Enrollment` ON (`main`.`users`.`id` = `aggr_selection_0_Enrollment`.`studentId`) WHERE (`main`.`users`.`role` = ? AND `main`.`users`.`isActive` = ? AND `main`.`users`.`programId` = ? AND `main`.`users`.`batchId` = ?) ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`programId` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?,?) LIMIT ? OFFSET ?
=== STUDENT SECTION UPDATE REQUEST START ===
Student ID: cmicn1yp3003sklugjbpo4qdd
Method: POST
User from request: {
  id: 'cmicn1ym6002oklugugymmcfp',
  role: 'ADMIN',
  collegeId: 'cmicn1y1l0001klugaq3oubfc'
}
Requested sectionId: cmicn1y8p0010klug1bphpbjn
prisma:query SELECT 1
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
=== PERMISSION CHECK ===
User role: ADMIN
User college ID: cmicn1y1l0001klugaq3oubfc
Student college ID: cmicn1y1l0001klugaq3oubfc
‚úÖ Admin/University access granted
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt` FROM `main`.`sections` WHERE (`main`.`sections`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`users` SET `sectionId` = ?, `updatedAt` = ? WHERE (`main`.`users`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `email` AS `email`, `studentId` AS `studentId`, `employeeId` AS `employeeId`, `password` AS `password`, `name` AS `name`, `role` AS `role`, `collegeId` AS `collegeId`, `programId` AS `programId`, `batchId` AS `batchId`, `sectionId` AS `sectionId`, `isActive` AS `isActive`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
Student updated successfully: {
  id: 'cmicn1yp3003sklugjbpo4qdd',
  email: 'student14@obeportal.com',
  studentId: 'STU0014',
  employeeId: null,
  password: '$2b$10$//05eHSBWlQOjngyIk3wSOKoBSLgV5B/RDvPoRUN8PMuhjkZKHiZ.',
  name: 'Student 14 - Bachelor of Computer Science',
  role: 'STUDENT',
  collegeId: 'cmicn1y1l0001klugaq3oubfc',
  programId: 'cmicn1y2n000aklugbk1rvlwx',
  batchId: 'cmicn1y4d000hkluglv0ot14l',
  sectionId: 'cmicn1y8p0010klug1bphpbjn',
  isActive: true,
  createdAt: 2025-11-24T04:20:09.063Z,
  updatedAt: 2025-11-24T14:20:21.946Z,
  college: { id: 'cmicn1y1l0001klugaq3oubfc', name: 'CUIET', code: 'CUIET' },
  section: { id: 'cmicn1y8p0010klug1bphpbjn', name: 'B' },
  batch: {
    id: 'cmicn1y4d000hkluglv0ot14l',
    name: '2020-2024',
    programId: 'cmicn1y2n000aklugbk1rvlwx',
    startYear: 2020,
    endYear: 2024,
    isActive: true,
    createdAt: 2025-11-24T04:20:08.318Z,
    updatedAt: 2025-11-24T04:20:08.318Z,
    program: {
      id: 'cmicn1y2n000aklugbk1rvlwx',
      name: 'Bachelor of Computer Science',
      code: 'BCSE'
    }
  }
}
 POST /api/students/cmicn1yp3003sklugjbpo4qdd/section 200 in 30ms (compile: 15ms, render: 15ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, COALESCE(`aggr_selection_0_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`users` LEFT JOIN (SELECT `main`.`enrollments`.`studentId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`studentId`) AS `aggr_selection_0_Enrollment` ON (`main`.`users`.`id` = `aggr_selection_0_Enrollment`.`studentId`) WHERE (`main`.`users`.`role` = ? AND `main`.`users`.`isActive` = ? AND `main`.`users`.`programId` = ? AND `main`.`users`.`batchId` = ?) ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`programId` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?,?) LIMIT ? OFFSET ?
 GET /api/students?collegeId=cmicn1y1l0001klugaq3oubfc&programId=cmicn1y2n000aklugbk1rvlwx&batchId=cmicn1y4d000hkluglv0ot14l 200 in 11ms (compile: 3ms, render: 8ms)
=== STUDENT SECTION UPDATE REQUEST START ===
Student ID: cmicn1yot003qklug74owzy73
Method: POST
User from request: {
  id: 'cmicn1ym6002oklugugymmcfp',
  role: 'ADMIN',
  collegeId: 'cmicn1y1l0001klugaq3oubfc'
}
Requested sectionId: cmicn1y8p0010klug1bphpbjn
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
=== PERMISSION CHECK ===
User role: ADMIN
User college ID: cmicn1y1l0001klugaq3oubfc
Student college ID: cmicn1y1l0001klugaq3oubfc
‚úÖ Admin/University access granted
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt` FROM `main`.`sections` WHERE (`main`.`sections`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`users` SET `sectionId` = ?, `updatedAt` = ? WHERE (`main`.`users`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `email` AS `email`, `studentId` AS `studentId`, `employeeId` AS `employeeId`, `password` AS `password`, `name` AS `name`, `role` AS `role`, `collegeId` AS `collegeId`, `programId` AS `programId`, `batchId` AS `batchId`, `sectionId` AS `sectionId`, `isActive` AS `isActive`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
Student updated successfully: {
  id: 'cmicn1yot003qklug74owzy73',
  email: 'student13@obeportal.com',
  studentId: 'STU0013',
  employeeId: null,
  password: '$2b$10$//05eHSBWlQOjngyIk3wSOKoBSLgV5B/RDvPoRUN8PMuhjkZKHiZ.',
  name: 'Student 13 - Bachelor of Computer Science',
  role: 'STUDENT',
  collegeId: 'cmicn1y1l0001klugaq3oubfc',
  programId: 'cmicn1y2n000aklugbk1rvlwx',
  batchId: 'cmicn1y4d000hkluglv0ot14l',
  sectionId: 'cmicn1y8p0010klug1bphpbjn',
  isActive: true,
  createdAt: 2025-11-24T04:20:09.053Z,
  updatedAt: 2025-11-24T14:20:25.469Z,
  college: { id: 'cmicn1y1l0001klugaq3oubfc', name: 'CUIET', code: 'CUIET' },
  section: { id: 'cmicn1y8p0010klug1bphpbjn', name: 'B' },
  batch: {
    id: 'cmicn1y4d000hkluglv0ot14l',
    name: '2020-2024',
    programId: 'cmicn1y2n000aklugbk1rvlwx',
    startYear: 2020,
    endYear: 2024,
    isActive: true,
    createdAt: 2025-11-24T04:20:08.318Z,
    updatedAt: 2025-11-24T04:20:08.318Z,
    program: {
      id: 'cmicn1y2n000aklugbk1rvlwx',
      name: 'Bachelor of Computer Science',
      code: 'BCSE'
    }
  }
}
 POST /api/students/cmicn1yot003qklug74owzy73/section 200 in 34ms (compile: 16ms, render: 18ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
 GET /api/students?collegeId=cmicn1y1l0001klugaq3oubfc&programId=cmicn1y2n000aklugbk1rvlwx&batchId=cmicn1y4d000hkluglv0ot14l 200 in 11ms (compile: 3ms, render: 8ms)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, COALESCE(`aggr_selection_0_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`users` LEFT JOIN (SELECT `main`.`enrollments`.`studentId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`studentId`) AS `aggr_selection_0_Enrollment` ON (`main`.`users`.`id` = `aggr_selection_0_Enrollment`.`studentId`) WHERE (`main`.`users`.`role` = ? AND `main`.`users`.`isActive` = ? AND `main`.`users`.`programId` = ? AND `main`.`users`.`batchId` = ?) ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`programId` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?,?) LIMIT ? OFFSET ?
=== STUDENT SECTION UPDATE REQUEST START ===
Student ID: cmicn1yo7003mklugtdjugw1v
Method: POST
User from request: {
  id: 'cmicn1ym6002oklugugymmcfp',
  role: 'ADMIN',
  collegeId: 'cmicn1y1l0001klugaq3oubfc'
}
Requested sectionId: cmicn1y8p0010klug1bphpbjn
=== PERMISSION CHECK ===
User role: ADMIN
User college ID: cmicn1y1l0001klugaq3oubfc
Student college ID: cmicn1y1l0001klugaq3oubfc
‚úÖ Admin/University access granted
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt` FROM `main`.`sections` WHERE (`main`.`sections`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`users` SET `sectionId` = ?, `updatedAt` = ? WHERE (`main`.`users`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `email` AS `email`, `studentId` AS `studentId`, `employeeId` AS `employeeId`, `password` AS `password`, `name` AS `name`, `role` AS `role`, `collegeId` AS `collegeId`, `programId` AS `programId`, `batchId` AS `batchId`, `sectionId` AS `sectionId`, `isActive` AS `isActive`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
Student updated successfully: {
  id: 'cmicn1yo7003mklugtdjugw1v',
  email: 'student11@obeportal.com',
  studentId: 'STU0011',
  employeeId: null,
  password: '$2b$10$//05eHSBWlQOjngyIk3wSOKoBSLgV5B/RDvPoRUN8PMuhjkZKHiZ.',
  name: 'Student 11 - Bachelor of Computer Science',
  role: 'STUDENT',
  collegeId: 'cmicn1y1l0001klugaq3oubfc',
  programId: 'cmicn1y2n000aklugbk1rvlwx',
  batchId: 'cmicn1y4d000hkluglv0ot14l',
  sectionId: 'cmicn1y8p0010klug1bphpbjn',
  isActive: true,
  createdAt: 2025-11-24T04:20:09.031Z,
  updatedAt: 2025-11-24T14:20:27.993Z,
  college: { id: 'cmicn1y1l0001klugaq3oubfc', name: 'CUIET', code: 'CUIET' },
  section: { id: 'cmicn1y8p0010klug1bphpbjn', name: 'B' },
  batch: {
    id: 'cmicn1y4d000hkluglv0ot14l',
    name: '2020-2024',
    programId: 'cmicn1y2n000aklugbk1rvlwx',
    startYear: 2020,
    endYear: 2024,
    isActive: true,
    createdAt: 2025-11-24T04:20:08.318Z,
    updatedAt: 2025-11-24T04:20:08.318Z,
    program: {
      id: 'cmicn1y2n000aklugbk1rvlwx',
      name: 'Bachelor of Computer Science',
      code: 'BCSE'
    }
  }
}
 POST /api/students/cmicn1yo7003mklugtdjugw1v/section 200 in 30ms (compile: 13ms, render: 16ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, COALESCE(`aggr_selection_0_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`users` LEFT JOIN (SELECT `main`.`enrollments`.`studentId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`studentId`) AS `aggr_selection_0_Enrollment` ON (`main`.`users`.`id` = `aggr_selection_0_Enrollment`.`studentId`) WHERE (`main`.`users`.`role` = ? AND `main`.`users`.`isActive` = ? AND `main`.`users`.`programId` = ? AND `main`.`users`.`batchId` = ?) ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`programId` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?) LIMIT ? OFFSET ?
 GET /api/students?collegeId=cmicn1y1l0001klugaq3oubfc&programId=cmicn1y2n000aklugbk1rvlwx&batchId=cmicn1y4d000hkluglv0ot14l 200 in 10ms (compile: 2ms, render: 8ms)
=== STUDENT SECTION UPDATE REQUEST START ===
Student ID: cmicn1ypf003uklugncbuqbw2
Method: POST
User from request: {
  id: 'cmicn1ym6002oklugugymmcfp',
  role: 'ADMIN',
  collegeId: 'cmicn1y1l0001klugaq3oubfc'
}
Requested sectionId: cmicn1y8b000ykluglp32a8a3
=== PERMISSION CHECK ===
User role: ADMIN
User college ID: cmicn1y1l0001klugaq3oubfc
Student college ID: cmicn1y1l0001klugaq3oubfc
‚úÖ Admin/University access granted
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt` FROM `main`.`sections` WHERE (`main`.`sections`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`users` SET `sectionId` = ?, `updatedAt` = ? WHERE (`main`.`users`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `email` AS `email`, `studentId` AS `studentId`, `employeeId` AS `employeeId`, `password` AS `password`, `name` AS `name`, `role` AS `role`, `collegeId` AS `collegeId`, `programId` AS `programId`, `batchId` AS `batchId`, `sectionId` AS `sectionId`, `isActive` AS `isActive`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
Student updated successfully: {
  id: 'cmicn1ypf003uklugncbuqbw2',
  email: 'student15@obeportal.com',
  studentId: 'STU0015',
  employeeId: null,
  password: '$2b$10$//05eHSBWlQOjngyIk3wSOKoBSLgV5B/RDvPoRUN8PMuhjkZKHiZ.',
  name: 'Student 15 - Bachelor of Computer Science',
  role: 'STUDENT',
  collegeId: 'cmicn1y1l0001klugaq3oubfc',
  programId: 'cmicn1y2n000aklugbk1rvlwx',
  batchId: 'cmicn1y4d000hkluglv0ot14l',
  sectionId: 'cmicn1y8b000ykluglp32a8a3',
  isActive: true,
  createdAt: 2025-11-24T04:20:09.075Z,
  updatedAt: 2025-11-24T14:20:30.413Z,
  college: { id: 'cmicn1y1l0001klugaq3oubfc', name: 'CUIET', code: 'CUIET' },
  section: { id: 'cmicn1y8b000ykluglp32a8a3', name: 'A' },
  batch: {
    id: 'cmicn1y4d000hkluglv0ot14l',
    name: '2020-2024',
    programId: 'cmicn1y2n000aklugbk1rvlwx',
    startYear: 2020,
    endYear: 2024,
    isActive: true,
    createdAt: 2025-11-24T04:20:08.318Z,
    updatedAt: 2025-11-24T04:20:08.318Z,
    program: {
      id: 'cmicn1y2n000aklugbk1rvlwx',
      name: 'Bachelor of Computer Science',
      code: 'BCSE'
    }
  }
}
 POST /api/students/cmicn1ypf003uklugncbuqbw2/section 200 in 29ms (compile: 14ms, render: 16ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, COALESCE(`aggr_selection_0_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`users` LEFT JOIN (SELECT `main`.`enrollments`.`studentId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`studentId`) AS `aggr_selection_0_Enrollment` ON (`main`.`users`.`id` = `aggr_selection_0_Enrollment`.`studentId`) WHERE (`main`.`users`.`role` = ? AND `main`.`users`.`isActive` = ? AND `main`.`users`.`programId` = ? AND `main`.`users`.`batchId` = ?) ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`programId` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?,?) LIMIT ? OFFSET ?
 GET /api/students?collegeId=cmicn1y1l0001klugaq3oubfc&programId=cmicn1y2n000aklugbk1rvlwx&batchId=cmicn1y4d000hkluglv0ot14l 200 in 10ms (compile: 2ms, render: 8ms)
=== STUDENT SECTION UPDATE REQUEST START ===
Student ID: cmicn1yp3003sklugjbpo4qdd
Method: POST
User from request: {
  id: 'cmicn1ym6002oklugugymmcfp',
  role: 'ADMIN',
  collegeId: 'cmicn1y1l0001klugaq3oubfc'
}
Requested sectionId: cmicn1y8b000ykluglp32a8a3
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
=== PERMISSION CHECK ===
User role: ADMIN
User college ID: cmicn1y1l0001klugaq3oubfc
Student college ID: cmicn1y1l0001klugaq3oubfc
‚úÖ Admin/University access granted
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt` FROM `main`.`sections` WHERE (`main`.`sections`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`users` SET `sectionId` = ?, `updatedAt` = ? WHERE (`main`.`users`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `email` AS `email`, `studentId` AS `studentId`, `employeeId` AS `employeeId`, `password` AS `password`, `name` AS `name`, `role` AS `role`, `collegeId` AS `collegeId`, `programId` AS `programId`, `batchId` AS `batchId`, `sectionId` AS `sectionId`, `isActive` AS `isActive`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
Student updated successfully: {
  id: 'cmicn1yp3003sklugjbpo4qdd',
  email: 'student14@obeportal.com',
  studentId: 'STU0014',
  employeeId: null,
  password: '$2b$10$//05eHSBWlQOjngyIk3wSOKoBSLgV5B/RDvPoRUN8PMuhjkZKHiZ.',
  name: 'Student 14 - Bachelor of Computer Science',
  role: 'STUDENT',
  collegeId: 'cmicn1y1l0001klugaq3oubfc',
  programId: 'cmicn1y2n000aklugbk1rvlwx',
  batchId: 'cmicn1y4d000hkluglv0ot14l',
  sectionId: 'cmicn1y8b000ykluglp32a8a3',
  isActive: true,
  createdAt: 2025-11-24T04:20:09.063Z,
  updatedAt: 2025-11-24T14:20:32.312Z,
  college: { id: 'cmicn1y1l0001klugaq3oubfc', name: 'CUIET', code: 'CUIET' },
  section: { id: 'cmicn1y8b000ykluglp32a8a3', name: 'A' },
  batch: {
    id: 'cmicn1y4d000hkluglv0ot14l',
    name: '2020-2024',
    programId: 'cmicn1y2n000aklugbk1rvlwx',
    startYear: 2020,
    endYear: 2024,
    isActive: true,
    createdAt: 2025-11-24T04:20:08.318Z,
    updatedAt: 2025-11-24T04:20:08.318Z,
    program: {
      id: 'cmicn1y2n000aklugbk1rvlwx',
      name: 'Bachelor of Computer Science',
      code: 'BCSE'
    }
  }
}
 POST /api/students/cmicn1yp3003sklugjbpo4qdd/section 200 in 25ms (compile: 12ms, render: 13ms)
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, COALESCE(`aggr_selection_0_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`users` LEFT JOIN (SELECT `main`.`enrollments`.`studentId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`studentId`) AS `aggr_selection_0_Enrollment` ON (`main`.`users`.`id` = `aggr_selection_0_Enrollment`.`studentId`) WHERE (`main`.`users`.`role` = ? AND `main`.`users`.`isActive` = ? AND `main`.`users`.`programId` = ? AND `main`.`users`.`batchId` = ?) ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`programId` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?,?) LIMIT ? OFFSET ?
 GET /api/students?collegeId=cmicn1y1l0001klugaq3oubfc&programId=cmicn1y2n000aklugbk1rvlwx&batchId=cmicn1y4d000hkluglv0ot14l 200 in 10ms (compile: 3ms, render: 7ms)
=== STUDENT SECTION UPDATE REQUEST START ===
Student ID: cmid61mgu0001jv4hp9wwaigz
Method: POST
User from request: {
  id: 'cmicn1ym6002oklugugymmcfp',
  role: 'ADMIN',
  collegeId: 'cmicn1y1l0001klugaq3oubfc'
}
Requested sectionId: cmicn1y8b000ykluglp32a8a3
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE (`main`.`users`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
=== PERMISSION CHECK ===
User role: ADMIN
User college ID: cmicn1y1l0001klugaq3oubfc
Student college ID: cmicn1y1l0001klugaq3oubfc
‚úÖ Admin/University access granted
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name`, `main`.`sections`.`batchId`, `main`.`sections`.`isActive`, `main`.`sections`.`createdAt`, `main`.`sections`.`updatedAt` FROM `main`.`sections` WHERE (`main`.`sections`.`id` = ? AND 1=1) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code`, `main`.`programs`.`collegeId`, `main`.`programs`.`duration`, `main`.`programs`.`description`, `main`.`programs`.`isActive`, `main`.`programs`.`createdAt`, `main`.`programs`.`updatedAt` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query BEGIN IMMEDIATE
prisma:query UPDATE `main`.`users` SET `sectionId` = ?, `updatedAt` = ? WHERE (`main`.`users`.`id` = ? AND 1=1) RETURNING `id` AS `id`, `email` AS `email`, `studentId` AS `studentId`, `employeeId` AS `employeeId`, `password` AS `password`, `name` AS `name`, `role` AS `role`, `collegeId` AS `collegeId`, `programId` AS `programId`, `batchId` AS `batchId`, `sectionId` AS `sectionId`, `isActive` AS `isActive`, `createdAt` AS `createdAt`, `updatedAt` AS `updatedAt`
Student updated successfully: {
  id: 'cmid61mgu0001jv4hp9wwaigz',
  email: 'test@obeportal.com',
  studentId: 'STU9999',
  employeeId: null,
  password: 'password123',
  name: 'Test Student',
  role: 'STUDENT',
  collegeId: 'cmicn1y1l0001klugaq3oubfc',
  programId: 'cmicn1y2n000aklugbk1rvlwx',
  batchId: 'cmicn1y4d000hkluglv0ot14l',
  sectionId: 'cmicn1y8b000ykluglp32a8a3',
  isActive: true,
  createdAt: 2025-11-24T13:11:45.918Z,
  updatedAt: 2025-11-24T14:20:35.141Z,
  college: { id: 'cmicn1y1l0001klugaq3oubfc', name: 'CUIET', code: 'CUIET' },
  section: { id: 'cmicn1y8b000ykluglp32a8a3', name: 'A' },
  batch: {
    id: 'cmicn1y4d000hkluglv0ot14l',
    name: '2020-2024',
    programId: 'cmicn1y2n000aklugbk1rvlwx',
    startYear: 2020,
    endYear: 2024,
    isActive: true,
    createdAt: 2025-11-24T04:20:08.318Z,
    updatedAt: 2025-11-24T04:20:08.318Z,
    program: {
      id: 'cmicn1y2n000aklugbk1rvlwx',
      name: 'Bachelor of Computer Science',
      code: 'BCSE'
    }
  }
}
 POST /api/students/cmid61mgu0001jv4hp9wwaigz/section 200 in 27ms (compile: 13ms, render: 14ms)
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt` FROM `main`.`users` WHERE `main`.`users`.`id` = ? LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`programId`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`isActive`, `main`.`batches`.`createdAt`, `main`.`batches`.`updatedAt` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query COMMIT
User authenticated via cookie: {
  id: 'cmicn1ym6002oklugugymmcfp',
  email: 'admin@obeportal.com',
  role: 'ADMIN'
}
prisma:query SELECT `main`.`users`.`id`, `main`.`users`.`email`, `main`.`users`.`studentId`, `main`.`users`.`employeeId`, `main`.`users`.`password`, `main`.`users`.`name`, `main`.`users`.`role`, `main`.`users`.`collegeId`, `main`.`users`.`programId`, `main`.`users`.`batchId`, `main`.`users`.`sectionId`, `main`.`users`.`isActive`, `main`.`users`.`createdAt`, `main`.`users`.`updatedAt`, COALESCE(`aggr_selection_0_Enrollment`.`_aggr_count_enrollments`, 0) AS `_aggr_count_enrollments` FROM `main`.`users` LEFT JOIN (SELECT `main`.`enrollments`.`studentId`, COUNT(*) AS `_aggr_count_enrollments` FROM `main`.`enrollments` WHERE 1=1 GROUP BY `main`.`enrollments`.`studentId`) AS `aggr_selection_0_Enrollment` ON (`main`.`users`.`id` = `aggr_selection_0_Enrollment`.`studentId`) WHERE (`main`.`users`.`role` = ? AND `main`.`users`.`isActive` = ? AND `main`.`users`.`programId` = ? AND `main`.`users`.`batchId` = ?) ORDER BY `main`.`users`.`createdAt` DESC LIMIT ? OFFSET ?
prisma:query SELECT `main`.`colleges`.`id`, `main`.`colleges`.`name`, `main`.`colleges`.`code` FROM `main`.`colleges` WHERE `main`.`colleges`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`batches`.`id`, `main`.`batches`.`name`, `main`.`batches`.`startYear`, `main`.`batches`.`endYear`, `main`.`batches`.`programId` FROM `main`.`batches` WHERE `main`.`batches`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`programs`.`id`, `main`.`programs`.`name`, `main`.`programs`.`code` FROM `main`.`programs` WHERE `main`.`programs`.`id` IN (?) LIMIT ? OFFSET ?
prisma:query SELECT `main`.`sections`.`id`, `main`.`sections`.`name` FROM `main`.`sections` WHERE `main`.`sections`.`id` IN (?,?) LIMIT ? OFFSET ?
 GET /api/students?collegeId=cmicn1y1l0001klugaq3oubfc&programId=cmicn1y2n000aklugbk1rvlwx&batchId=cmicn1y4d000hkluglv0ot14l 200 in 11ms (compile: 3ms, render: 8ms)
 GET /students 200 in 196ms (compile: 3ms, render: 193ms)
